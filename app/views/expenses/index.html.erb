<table class="pretty">
  <tr>
    <th>Filter by Category</th>
    <th>
      <%= form_tag expenses_path, :method => 'get' do %>
        <%= collection_select(:expense, :category_id, Category.all, :id, :name, prompt: true)%>
        <%= submit_tag "look" %>
      <% end %>
    </th>
  </tr>

  <tr>
    <th><%= sortable "name" %></th>
    <th><%= sortable "amount" %></th>
    <th><%= sortable "date" %></th>
    <th><%= sortable "category_id" %></th>
    <th> </th>
  </tr>

  <% @expenses.each do |expense| %>
  <tr>
    <td><%= expense.name %></td>
    <td class="price"><%= expense.amount %></td>
    <td><%= expense.date.strftime("%m/%d/%Y") %></td>
    <td><%= expense.category.name%></td>
    <td><%= link_to 'Detail', expense_path(expense) %> |
        <%= link_to 'Edit', edit_expense_path(expense) %> |
        <%= link_to 'Delete', expense_path(expense), method: :delete, data: {confirm: "Are you sure?"} %> </td>
  </tr>


  <%end%>

  <tr>
    <td><%= link_to 'New Expense', new_expense_path %></td>
  </tr>

</table>
